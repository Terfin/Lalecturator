<html>
<head>
	<title>LaLecturator - Education Made Easy</title>
	<script type="text/javascript" src="js/jquery-1.9.1.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.10.2.custom.js"></script>
	<script type="text/javascript" src="js/knockout-2.2.1.js"></script>
	<link rel="stylesheet" type="text/css" href="css/jquery-ui-1.10.2.custom.css">
	<link rel="stylesheet" type="text/css" href="css/lalecture.css">
	<style type="text/css">
		#errorMsg {
			width: inherit;
			font-size: 16px;
			text-align: center;
			color: red;
		}

		#adminTabs {
			height: inherit;
		}
	</style>
	<script type="text/javascript">
	var loginObj;
	var usersArr;
	$(function () {
		usersArr = [{ userName: 'Admin', password: 'L337H4X0R', userType: 'superuser'}, { userName: 'Usa', password: 'qwerty', userType: 'regularuser'}];
		$('#adminTabs').tabs({active: 0}).hide(0);
		$('#resetBtn,#submitBtn').button();
		loginObj = { 
			userName: ko.observable(),
			password: ko.observable()
		};
		ko.applyBindings(loginObj);
		if (!Array.prototype.filter)
		{
		  Array.prototype.filter = function(fun /*, thisp */)
		  {
		    "use strict";

		    if (this === void 0 || this === null)
		      throw new TypeError();

		    var t = Object(this);
		    var len = t.length >>> 0;
		    if (typeof fun !== "function")
		      throw new TypeError();

		    var res = [];
		    var thisp = arguments[1];
		    for (var i = 0; i < len; i++)
		    {
		      if (i in t)
		      {
		        var val = t[i]; // in case fun mutates this
		        if (fun.call(thisp, val, i, t))
		          res.push(val);
		      }
		    }

		    return res;
		  };
		}
	});
	var user;
	function login () {
		user = usersArr.filter(function(element) {
			return (element.userName == loginObj.userName());
		});
		if (user.length == 0 || loginObj.password() != user[0].password)
		{
			$('#errorMsg').text('Bad user/password combination');
		}
		else {
			if ($('#errorMsg').text() != "") 
			{
				$('#errorMsg').text("");
			}
			$('.login').hide(400, 'swing', function () {
				$('#adminTabs').show(400);
			});
		}
	}
	</script>
</head>
<body>
	<div class="wrapper">
		<div class="title">
			<h1>LaLecturator</h1>
		</div>
		<div class="content">
			<div class="login">
				<form>
					<h2>Log in to system</h2>
					<input type="text" id="user" placeholder="Enter your username" data-bind="value: userName, valueUpdate: 'afterkeydown'" />
					<input type="password" id="password" placeholder="Enter your password" data-bind="value: password, valueUpdate: 'afterkeydown'" />
					<input type="button" value="Submit" id = "submitBtn" onclick="login()" />
					<input type="reset" value="Reset" id="resetBtn" />
					<div id="errorMsg"></div>
				</form>
			</div>
			<div id="adminTabs">
				<ul>
					<li><a href="#addStudent">Add Student</a></li>
					<li><a href="#addExam">Add Exam</a></li>
					<li><a href="#showGrades">Course Grades</a></li>
				</ul>
					<div id="addStudent">
						<form>
							<input type="text" 	>
						</form>
					</div>
					<div id="addExam"></div>
					<div id="showGrades"></div>
				
			</div>
		</div>
	</div>
</body>
</html>