<html>
<head>
	<title>LaLecturator - Education Made Easy</title>
	<script type="text/javascript" src="js/jquery-1.9.1.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.10.2.custom.js"></script>
	<script type="text/javascript" src="js/knockout-2.2.1.js"></script>
	<script type="text/javascript" src="js/knockout-jquery-ui-widget.js"></script>
	<script type="text/javascript" src="js/lscache.js"></script>
	<script type="text/javascript" src="js/knockout.mapping.js"></script>
	<link rel="stylesheet" type="text/css" href="css/jquery-ui-1.10.2.custom.css">
	<link rel="stylesheet" type="text/css" href="css/lalecture.css">
	<style type="text/css">

	</style>
<script type="text/html" id="examTpl" >
		<ol data-bind="foreach: questions()">
			<li>
				<p data-bind="event: { onLoad: $parent.loadAnswer}">
					<span data-bind="text: text" onclick="vm.editElement(this)"></span>
					<input type="text" data-bind="value: text, attr: {id: 'ques' + id}" class="hidden" onkeyup="vm.editDone(this)" onblur = "vm.editDone(this)" />
				</p>
				<!-- ko if: vm.loggedUser() instanceof Student -->
				<textarea data-bind="value: activeAnswer().text"></textarea>
				<!-- /ko -->
			</li>
		</ol>
	</script>
	<script type="text/javascript" src="js/objects.js"></script>
		
	<script type="text/javascript" src="js/lalecture.js"></script>

</head>
<body>
	<div class="wrapper">
		<div class="title">
			<h1>LaLecturator</h1>
            <!-- ko if: vm.loggedUser() != undefined -->
            <input type="button" id="logoutBtn" value="Logout" onclick="logout()" /><span class="welcome" data-bind="text: 'Welcome ' + vm.loggedUser().username()"></span>
            <!-- /ko -->
		</div>
		<div class="content">
			<div class="login">
				<form>
					<h2>Log in to system</h2>
					<input type="text" id="user" placeholder="Enter your username" data-bind="value: loginObj().username, valueUpdate: 'afterkeydown'" />
					<input type="password" id="password" placeholder="Enter your password" data-bind="value: loginObj().password, valueUpdate: 'afterkeydown'" />
					<input type="button" value="Submit" id = "submitBtn" onclick="login()" />
					<input type="reset" value="Reset" id="resetBtn" />
					<div id="errorMsg"></div>
				</form>
			</div>
			<div id="adminTabs">
				<ul>
					<li><a href="#addStudent" data-bind="click: resetLS()">Add/Edit/Remove Student</a></li>
					<li><a href="#addExam" data-bind="click: resetLS()">Add/Remove Exam</a></li>
					<li><a href="#showGrades" data-bind="click: resetLS()">Course Grades</a></li>
				</ul>
					<div id="addStudent">
						<div class="innerCell">
							<div class="leftCell">
								<form class="addStudent">
									<input type="text" placeholder="Student ID" id="idNum" data-bind="value: svm.studentFormObj().uid" />
									<input type="text" placeholder="Student Name" id="name" data-bind="value: svm.studentFormObj().username" />
									<input type="text" placeholder="Student Mail" id="email" data-bind="value: svm.studentFormObj().email"/>
									<input type="text" placeholder="Student Password" id="passwd" data-bind="value: svm.studentFormObj().password" />
									<input type="button" value="Add Student" id="addStud" data-bind="click: svm.addStudent" />
									<input type="button" value="Save Student" id="saveStud" data-bind="click: svm.saveStudent" />
									<input type="Reset" value="Reset" id="resetStud" />
								</form>
							</div>
							<div class="rightCell">
								<div class="studSelForm">
									<!-- ko if: svm.Students().length > 0 -->
									<div id="studSelect">
										<ul data-bind="foreach: svm.studentsByPage">
											<li data-bind="attr: {'id': 'stud' + uid()}, click: $root.svm.selectStudent">
												<a data-bind="text: username"></a>
											</li>
										</ul>
									</div>
									<input type="button" value="<<" id="prevStuds" data-bind="visible: svm.currentPage() > 1, click: svm.prevPage" />
									<input type="button" value="Edit" id="editStud" data-bind="click: svm.editStudent" />
									<input type="button" value="Remove" id="removeStud" data-bind="click: svm.removeStudent" />
									<input type="button" value=">>" id="nextStuds" data-bind="visible: svm.Students().length >= 10 && svm.currentPage() < svm.numPages(), click: svm.nextPage" />
									<!-- /ko -->
								</div>
							</div>
						</div>
					</div>
					<div id="addExam">
						<div class="innerCell">
							<div class="leftCell lexam">
								<p>List of Exams</p>
									<hr />
								<div id="examSelector">

									<ul>
                                        <!-- ko ifnot: evm.exams().length == 0 -->
                                        <!-- ko foreach: evm.exams -->
                                        <li data-bind="attr: {'id': 'exam' + id()}, click: selectExam">
                                            <a data-bind="text: name"></a>
                                        </li>
                                        <!-- /ko -->
                                        <!-- /ko -->
                                        <li>
                                            <a data-bind="click: evm.newExam">Add New Exam</a>
                                        </li>
									</ul>
								</div>
							</div>
							<div class="rightCell rexam">
									<!-- ko ifnot: evm.selectedExam() == undefined -->
									<div class="examForm">
										<div class="title">
											<h2 id="examTitle" data-bind="text: evm.selectedExam().name" onclick="vm.editElement(this)"></h2>
											<input type="text" class="hidden" id="titleInp" data-bind="value: evm.selectedExam().name" onblur="vm.editDone(this)" onkeyup="vm.editDone(this)">
										</div>
										<hr />
										<div class="qList">
                                                    <ol data-bind="foreach: evm.selectedExam().questions">
                                                        <li>
                                                            <h3 id="questionTitle" data-bind="text: text" onclick="vm.editElement(this)"></h3>
                                                            <input type="text" class="hidden" id="titleInp" data-bind="value: text" onblur="vm.editDone(this)" onkeyup="vm.editDone(this)">
                                                        </li>
                                                    </ol>
													<input type="button" id="newQuestion" data-bind="click: evm.newQuestion" value="Add New Question"/>
										</div>
									</div>
									<!-- /ko -->
							</div>
						</div>
					</div>

					<div id="showGrades">
						<div class="innerCell">
							<div class="leftCell lexam">
							</div>
							<div class="rightCell rexam">
							</div>
						</div>
					</div>
				
			</div>
			<div id="studentTabs">

			</div>
		</div>
		<div class="footer">
		</div>
	</div>
</body>
</html>